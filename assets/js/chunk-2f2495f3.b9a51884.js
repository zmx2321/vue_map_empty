(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f2495f3"],{"28da":function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("section",{staticClass:"main_cont amap-wrapper"},[e("el-button",{attrs:{type:"primary"},on:{click:o.toChongqing}},[o._v("重庆")]),e("el-button",{attrs:{type:"primary"},on:{click:o.shizhu}},[o._v("石柱土家族自治县")]),e("el-button",{attrs:{type:"primary"},on:{click:o.toShangHe}},[o._v("上河镇")]),e("el-amap",{ref:"map",staticClass:"amap-box",attrs:{vid:"amap-vue",center:o.center,zoom:o.zoom,events:o.events}}),e("el-dialog",{attrs:{title:"提示",visible:o.dialogVisible,width:"30%"},on:{"update:visible":function(t){o.dialogVisible=t}}},[e("span",[o._v("这是一段信息")]),e("p",[o._v("城市名称："+o._s(o.cityName))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){o.dialogVisible=!1}}},[o._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(t){o.dialogVisible=!1}}},[o._v("确 定")])],1)])],1)},i=[],a=(e("b0c0"),e("3e6d")),s={name:"testmap4",data:function(){var o=this;return{center:[107.943579,30.131735],zoom:7,events:{init:function(t){window.amapview=t,o.getMapInfo(),o.getGeoJson(),o.getTestGeojson()}},polygonInitColor:"#f00",polygonMarkerColor:"#00f",dialogVisible:!1,cityName:""}},computed:{},methods:{debounce:function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,e=null;return function(){var n=arguments,i=this;e&&clearTimeout(e),e=setTimeout((function(){o.apply(i,n),e=null}),t)}},throttle:function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=null;return function(){var n=arguments,i=this;e||(e=setTimeout((function(){o.apply(i,n),e=null}),t))}},getMapInfo:function(){var o=this;console.log("AMap",AMap),setTimeout((function(){console.log("amapview",window.amapview),window.amapview.on("click",(function(t){o.getPosition(t)})),window.amapview.on("moveend",(function(){o.logMapinfo()}))}),0)},logMapinfo:function(){console.log("当前级别",window.amapview.getZoom()),console.log("当前中心点",window.amapview.getCenter())},getPosition:function(o){console.log("您在 ["+o.lnglat.getLng()+","+o.lnglat.getLat()+"] 的位置点击了地图")},toChongqing:function(){window.amapview.setZoom("7"),window.amapview.setCenter([107.943579,30.131735])},toShangHe:function(){window.amapview.setZoom("12"),window.amapview.setCenter([120.21272954752699,29.93745044968425])},initGeojsonLayer:function(o,t){return new AMap.GeoJSON({geoJSON:o,getPolygon:function(o,e){return new AMap.Polygon({path:e,fillOpacity:.3,fillColor:t,strokeColor:"#fff",strokeWeight:.6,strokeStyle:"solid",strokeOpacity:1})}})},setGeoJsonLayer:function(o,t,e,n){var i=this.initGeojsonLayer(o,t);i.setMap(window.amapview),i.eachOverlay((function(o){o.on(e,(function(t){n(t,o)}))}))},getGeoEvent:function(o,t,e){var n=t.toGeoJSON(),i=this.initGeojsonLayer(n,this.polygonMarkerColor);i.setMap(window.amapview),i.on("mouseout",(function(o){console.log("鼠标移除事件"),console.log(o),i.hide()})),i.on("click",(function(){console.log("鼠标点击事件"),i.hide(),e(n)}))},getGeoJson:function(){var o=this;this.axios.get("https://a.amap.com/jsapi_demos/static/geojson/chongqing.json").then((function(t){var e=t.data;o.setGeoJsonLayer(e,o.polygonInitColor,"mouseover",(function(t,e){o.getGeoEvent(t,e,(function(t){console.log("处理geojson业务流程"),o.getChonQingData(t)}))})),o.$message.success("geojson加载成功")})).catch({})},getTestGeojson:function(){var o=this;this.setGeoJsonLayer(a,this.polygonInitColor,"mouseover",(function(t,e){o.getGeoEvent(t,e,(function(t){console.log("处理testJson业务流程"),o.testJsonData(t)}))}))},getChonQingData:function(o){this.dialogVisible=!0,o.properties.name?(this.cityName=o.properties.name,console.log("区县名称",o.properties.name)):console.log("区县名称",o.properties.Name)},testJsonData:function(o){this.dialogVisible=!0,o.properties.name?console.log("区县名称",o.properties.name):(this.cityName=o.properties.Name,console.log("区县名称",o.properties.Name))},shizhu:function(){}},created:function(){},mounted:function(){}},l=s,c=(e("cfa2"),e("2877")),r=Object(c["a"])(l,n,i,!1,null,"250ad296",null);t["default"]=r.exports},a26f:function(o,t,e){},cfa2:function(o,t,e){"use strict";e("a26f")}}]);