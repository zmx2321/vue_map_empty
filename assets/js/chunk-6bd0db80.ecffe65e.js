(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bd0db80"],{"03d8":function(o,n,e){"use strict";e.r(n);var t=function(){var o=this,n=o.$createElement,e=o._self._c||n;return e("section",{staticClass:"main_cont amap-wrapper"},[e("el-button",{attrs:{type:"primary"},on:{click:o.toChongqing}},[o._v("重庆")]),e("el-button",{attrs:{type:"primary"},on:{click:o.toShangHe}},[o._v("上河镇")]),e("el-amap",{ref:"map",staticClass:"amap-box",attrs:{vid:"amap-vue",center:o.center,zoom:o.zoom,events:o.events}})],1)},i=[],a=(e("b0c0"),e("3e6d")),s={name:"testmap2",data:function(){var o=this;return{center:[107.943579,30.131735],zoom:7,events:{init:function(n){window.amapview=n,o.getMapInfo(),o.getGeoJson(),o.testJson()}},polygonInitColor:"#f00",polygonMarkerColor:"#00f"}},computed:{},methods:{getMapInfo:function(){var o=this;console.log("AMap",AMap),setTimeout((function(){console.log("amapview",window.amapview),window.amapview.on("click",(function(n){o.getPosition(n)})),window.amapview.on("moveend",(function(){o.logMapinfo()}))}),0)},logMapinfo:function(){console.log("当前级别",window.amapview.getZoom()),console.log("当前中心点",window.amapview.getCenter())},getPosition:function(o){console.log("您在 ["+o.lnglat.getLng()+","+o.lnglat.getLat()+"] 的位置点击了地图")},toChongqing:function(){window.amapview.setZoom("7"),window.amapview.setCenter([107.943579,30.131735])},toShangHe:function(){window.amapview.setZoom("12"),window.amapview.setCenter([120.21272954752699,29.93745044968425])},initGeojsonLayer:function(o,n){return new AMap.GeoJSON({geoJSON:o,getPolygon:function(o,e){var t=AMap.GeometryUtil.ringArea(e[0]);return new AMap.Polygon({path:e,fillOpacity:1-Math.sqrt(t/8e9),fillColor:n,strokeColor:"#fff",strokeWeight:.6,strokeStyle:"solid",strokeOpacity:1})}})},setGeoJsonLayer:function(o,n,e,t){var i=this.initGeojsonLayer(o,n);i.eachOverlay((function(o){o.on(e,(function(n){t(n,o)}))})),i.setMap(window.amapview)},getGeoEvent:function(o,n,e){var t=n.toGeoJSON();e(t);var i=this.initGeojsonLayer(t,this.polygonMarkerColor);i.setMap(window.amapview),i.on("mouseout",(function(){console.log("鼠标移除事件"),i.hide()})),i.on("click",(function(){console.log("鼠标点击事件"),i.hide()}))},getGeoJson:function(){var o=this;this.axios.get("https://a.amap.com/jsapi_demos/static/geojson/chongqing.json").then((function(n){var e=n.data;o.setGeoJsonLayer(e,o.polygonInitColor,"click",(function(n,e){o.getGeoEvent(n,e,(function(o){console.log("处理geojson业务流程"),o.properties.name?console.log("区县名称",o.properties.name):console.log("区县名称",o.properties.Name)}))})),o.$message.success("geojson加载成功")})).catch({})},testJson:function(){var o=this;this.setGeoJsonLayer(a,this.polygonInitColor,"click",(function(n,e){o.getGeoEvent(n,e,(function(o){console.log("处理testJson业务流程"),o.properties.name?console.log("区县名称",o.properties.name):console.log("区县名称",o.properties.Name)}))}))}},created:function(){},mounted:function(){}},c=s,r=(e("5735"),e("2877")),l=Object(r["a"])(c,t,i,!1,null,"0ef61cc7",null);n["default"]=l.exports},"2c45":function(o,n,e){},5735:function(o,n,e){"use strict";e("2c45")}}]);